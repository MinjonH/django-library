{% include 'library/navbar.html' %}
<html>
	<head>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
			integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
			crossorigin="anonymous"
		/>
		<script
			src="https://kit.fontawesome.com/30bc8ba1f7.js"
			crossorigin="anonymous"
		></script>
		<title>All Students | Bee-Lieve Library</title>
		<style>
			h1 {
				margin-top: 6rem;
				margin-bottom: 3rem;
			}
			body {
				background-color: #fffae5;
			}
			table {
				background-color: white;
			}
		</style>
	</head>
	<body>
		{% if students %}
		<div class="container">
			<h1 class="display-4 text-center">ALL STUDENTS</h1>
			<div class="row">
				<div class="col-4">
					<input
						class="form-control mb-4"
						type="text"
						placeholder="Search Student..."
					/>
				</div>
				<div class="col-8 text-right">
					<a href="{% url 'issue_book' %}" class="btn btn-outline-warning mb-4"
						>Issue Book</a
					>
					<a href="{% url 'add_student' %}" class="btn btn-outline-warning mb-4"
						>Add Student</a
					>
				</div>
			</div>
			<div class="table-responsive">
				<table
					class="table table-sm table-hover table-bordered"
					style="background-color: white"
				>
					<thead class="text-center align-middle">
						<tr>
							<th class="col-2 font-bold cursor-default w-20">
								Student Number
							</th>
							<th class="col-5 font-bold cursor-default">Name</th>
							<th class="col-1 font-bold cursor-default">Grade</th>
							<th class="col-2 font-bold cursor-default">Book Limit</th>
							<th class="font-bold cursor-default">Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for s in students %}
						<tr>
							<td class="text-center align-middle">{{s.student_num}}</td>
							<td class="text-center align-middle">
								{{s.first_name}} {{s.last_name}}
							</td>
							<td class="text-center align-middle">{{s.grade}}</td>
							<td class="text-center align-middle">{{s.book_limit}}</td>
							<td class="text-center align-middle">
								<a
									class="btn btn-outline-secondary"
									href="{% url 'student_update' pk=s.student_num %}"
									><i class="fa-regular fa-pen-to-square"></i
								></a>
								<a
									class="btn btn-outline-danger"
									href="{% url 'student_delete' pk=s.student_num %}"
									><i class="fa-solid fa-trash"></i
								></a>
							</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>

		{% else %}
		<h1 class="display-4 text-center">No Students</h1>
		{% endif %}
	</body>
</html>
